<!DOCTYPE html>
<html>
<head lang="en">
	<title>Tangram</title>

	<script src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script src="http://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>

	<script>
		$(document).ready(function() {
			$(".draggable").draggable({snap: true});

			$.fn.rotationDegrees = function () {
         var matrix = this.css("-webkit-transform") ||
    this.css("-moz-transform")    ||
    this.css("-ms-transform")     ||
    this.css("-o-transform")      ||
    this.css("transform");
    if(typeof matrix === 'string' && matrix !== 'none') {
        var values = matrix.split('(')[1].split(')')[0].split(',');
        var a = values[0];
        var b = values[1];
        var angle = Math.round(Math.atan2(b, a) * (180/Math.PI));
    } else { var angle = 0; }
    return angle;
   };
    
    $('.rotate').click("on", function() {
        var rotateAngle = parseInt($(this).rotationDegrees());
        if (rotateAngle === 315) {
            $(this).css({"transform": "rotate(" + "0" + "deg"});
        } else {
            rotateAngle += 45;
            $(this).css({"transform": "rotate(" + rotateAngle + "deg"});
        }
    });
		});
	</script>
	<style>
		#triangle1 {
			width: 0;
			height: 0;
			border-top: 200px solid transparent;
			border-bottom: 200px solid transparent;
			border-right: 200px solid red;
			
			position: relative;
			left: 220px;
			top: 12px;
		}

		#triangle2 {
			width: 0px;
			height: 0px;
			border-left: 200px solid transparent;
			border-right: 200px solid transparent;
			
			border-top: 200px solid red;
			position: relative;
			left: 20px;
			top: -388px;
		}
		
		#triangle3 {
			width: 0px;
			height: 0px;
			border-top: 100px solid transparent;
			border-bottom: 100px solid transparent;
			
			border-left: 100px solid red;

			position: relative;
			left: 120px;
			top: -488px;
		}
		
		#triangle4 {
			width: 0px;
			height: 0px;
			border-left: 100px solid transparent;
			border-right: 100px solid transparent;
			
			border-bottom: 100px solid red;

			position: relative;
			left: 220px;
			top: -488px;
		}

		#triangle5 {
			width: 0;
			height: 0;
			border-bottom: 200px solid red;
			border-right: 200px solid transparent;

			position: relative;
			left: 20px;
			top: -688px;
		}

		#square {
			width: 0;
			height: 0;
			border: 100px solid transparent;
			border-bottom-color: red;
			position: relative;
			top: -100px;

			top: -988px;
			left: 120px;
		}
		
		#square:after {
			content: '';
			position: absolute;
			left: -100px;
			top: 100px;
			width: 0;
			height: 0;
			border: 100px solid transparent;
			border-top-color: red;
		}

		#parallelogram {
    		width: 100px;
    		height: 300px;
    		position: relative;
    		left: 20px;
    		top: -1288px;
    
		}
	    .top-triangle {
	        width: 0;
	        height: 0;
	        border-bottom: 100px solid red;
	        border-right: 100px solid transparent;
	    }

	    .middle-square {
	        width: 100px;
	        height: 100px;
	        background: red;
	    }
	    
	    .bottom-triangle {
	        width: 0px;
	        height: 0px;
	        border-top: 100px solid red;
	        border-left: 100px solid transparent;
	    }


	</style>

</head>

<body>
	
	<div id="triangle1" class="rotate draggable"></div>
	<div id="triangle2" class="rotate draggable"></div>
	<div id="triangle3" class="rotate draggable"></div>
	<div id="triangle4" class="rotate draggable"></div>
	<div id="triangle5" class="rotate draggable"></div>
	<div id="square" class=" rotate draggable"></div>
	<div id="parallelogram" class="rotate draggable">
		<div class="top-triangle"></div>
		<div class="middle-square"></div>
		<div class="bottom-triangle"></div>
	</div>

</body>

</html>
